function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},l={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in l){var n=l[e];delete l[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){l[e]=n},n.parcelRequired7c6=a),a("fo3FY"),a("h4WSp"),a("lXuvW");var o=a("e0Eue");var i=e(a("amrNH")).template({1:function(e,n,t,l,a){var o,i=null!=n?n:e.nullContext||{},c=e.hooks.helperMissing,s="function",r=e.escapeExpression,d=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"        <img\n          src='https://image.tmdb.org/t/p/w500/"+r(typeof(o=null!=(o=d(t,"poster_path")||(null!=n?d(n,"poster_path"):n))?o:c)===s?o.call(i,{name:"poster_path",hash:{},data:a,loc:{start:{line:6,column:47},end:{line:6,column:62}}}):o)+"'\n          alt='"+r(typeof(o=null!=(o=d(t,"title")||(null!=n?d(n,"title"):n))?o:c)===s?o.call(i,{name:"title",hash:{},data:a,loc:{start:{line:7,column:15},end:{line:7,column:24}}}):o)+"'\n          class='movie-card__poster lazyload'\n          loading='lazy'\n        />\n"},3:function(e,n,t,l,a){var o,i=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"        <img\n          src='https://yt3.ggpht.com/AAKF_677TIvjFz_9xFF0R6PgiVd0kRpEtY6APSxSDRP65nXg8hkn9NFsz2bRd9_Z37DJ9D_b=s900-c-k-c0x00ffffff-no-rj'\n          alt='"+e.escapeExpression("function"==typeof(o=null!=(o=i(t,"title")||(null!=n?i(n,"title"):n))?o:e.hooks.helperMissing)?o.call(null!=n?n:e.nullContext||{},{name:"title",hash:{},data:a,loc:{start:{line:14,column:15},end:{line:14,column:24}}}):o)+"'\n          class='movie-card__poster'\n          loading='lazy'\n        />\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,l,a){var o,i,c=null!=n?n:e.nullContext||{},s=e.hooks.helperMissing,r="function",d=e.escapeExpression,u=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"<li class='movie-card__item' data-id='"+d(typeof(i=null!=(i=u(t,"id")||(null!=n?u(n,"id"):n))?i:s)===r?i.call(c,{name:"id",hash:{},data:a,loc:{start:{line:1,column:38},end:{line:1,column:44}}}):i)+"' id='open'>\n  <div class='movie-card'>\n    <div class='poster-wrapper'>\n"+(null!=(o=u(t,"if").call(c,null!=n?u(n,"poster_path"):n,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a,loc:{start:{line:4,column:6},end:{line:18,column:13}}}))?o:"")+"    </div>\n    <div class='card-info'>\n      <h2 class='movie-info-title'> "+d(typeof(i=null!=(i=u(t,"title")||(null!=n?u(n,"title"):n))?i:s)===r?i.call(c,{name:"title",hash:{},data:a,loc:{start:{line:21,column:36},end:{line:21,column:45}}}):i)+"</h2>\n      <div class='info-wrapper'>\n        <div class='movie-icon-decor'>\n        </div>\n        <p class='info-item-year'>"+d(typeof(i=null!=(i=u(t,"release_date")||(null!=n?u(n,"release_date"):n))?i:s)===r?i.call(c,{name:"release_date",hash:{},data:a,loc:{start:{line:25,column:34},end:{line:25,column:50}}}):i)+"</p>\n        <p class='info-item-rating'><span class='rating-icon'>&#9733;</span>\n          "+d(typeof(i=null!=(i=u(t,"vote_average")||(null!=n?u(n,"vote_average"):n))?i:s)===r?i.call(c,{name:"vote_average",hash:{},data:a,loc:{start:{line:27,column:10},end:{line:27,column:26}}}):i)+"</p>\n      </div>\n    </div>\n  </div>\n  <div class='watched-delete-wrapper'>\n    <button class='watched-delete' type='button' id='close'>\n    </button>\n  </div>\n</li>"},useData:!0}),c=a("9B8F0");var s=e(a("amrNH")).template({1:function(e,n,t,l,a){var o=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"                <span class='sub-genre'> "+e.escapeExpression(e.lambda(null!=n?o(n,"name"):n,n))+" </span>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,l,a){var o,i,c=null!=n?n:e.nullContext||{},s=e.hooks.helperMissing,r="function",d=e.escapeExpression,u=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"<div class='modal'>\n  <div class='modal-wrapper'>\n    <div class='img-container'>\n      <img\n        class='modal-img'\n        src='https://image.tmdb.org/t/p/w500/"+d(typeof(i=null!=(i=u(t,"poster_path")||(null!=n?u(n,"poster_path"):n))?i:s)===r?i.call(c,{name:"poster_path",hash:{},data:a,loc:{start:{line:6,column:45},end:{line:6,column:60}}}):i)+"'\n        alt='"+d(typeof(i=null!=(i=u(t,"title")||(null!=n?u(n,"title"):n))?i:s)===r?i.call(c,{name:"title",hash:{},data:a,loc:{start:{line:7,column:13},end:{line:7,column:22}}}):i)+"'\n        data-id='"+d(typeof(i=null!=(i=u(t,"id")||(null!=n?u(n,"id"):n))?i:s)===r?i.call(c,{name:"id",hash:{},data:a,loc:{start:{line:8,column:17},end:{line:8,column:23}}}):i)+"'\n      />\n    </div>\n    <div class='modal-info'>\n      <h2 class='modal-title'>"+d(typeof(i=null!=(i=u(t,"title")||(null!=n?u(n,"title"):n))?i:s)===r?i.call(c,{name:"title",hash:{},data:a,loc:{start:{line:12,column:30},end:{line:12,column:39}}}):i)+"</h2>\n\n      <table class='modal-table'>\n        <tbody>\n          <tr>\n            <th class='modal-table__descr'>Vote/Votes</th>\n            <td class='modal-table__value'><span\n                class='modal-table__value-avr'\n              >"+d(typeof(i=null!=(i=u(t,"vote_average")||(null!=n?u(n,"vote_average"):n))?i:s)===r?i.call(c,{name:"vote_average",hash:{},data:a,loc:{start:{line:20,column:15},end:{line:20,column:31}}}):i)+"</span>\n              /\n              <span class='modal-table__vote-count'>"+d(typeof(i=null!=(i=u(t,"vote_count")||(null!=n?u(n,"vote_count"):n))?i:s)===r?i.call(c,{name:"vote_count",hash:{},data:a,loc:{start:{line:22,column:52},end:{line:22,column:66}}}):i)+"</span></td>\n          </tr>\n          <tr>\n            <th class='modal-table__descr'>Popularity</th>\n            <td class='modal-table__value'>"+d(typeof(i=null!=(i=u(t,"popularity")||(null!=n?u(n,"popularity"):n))?i:s)===r?i.call(c,{name:"popularity",hash:{},data:a,loc:{start:{line:26,column:43},end:{line:26,column:57}}}):i)+"</td>\n          </tr>\n          <tr>\n            <th class='modal-table__descr'>Original Title</th>\n            <td class='modal-table__value'>"+d(typeof(i=null!=(i=u(t,"original_title")||(null!=n?u(n,"original_title"):n))?i:s)===r?i.call(c,{name:"original_title",hash:{},data:a,loc:{start:{line:30,column:43},end:{line:30,column:61}}}):i)+"</td>\n          </tr>\n          <tr>\n            <th class='modal-table__descr'>Genre</th>\n            <td class='modal-table__value'>\n"+(null!=(o=u(t,"each").call(c,null!=n?u(n,"genres"):n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:35,column:14},end:{line:37,column:23}}}))?o:"")+"            </td>\n          </tr>\n        </tbody>\n      </table>\n      <p class='modal-review'>"+d(typeof(i=null!=(i=u(t,"overview")||(null!=n?u(n,"overview"):n))?i:s)===r?i.call(c,{name:"overview",hash:{},data:a,loc:{start:{line:42,column:30},end:{line:42,column:42}}}):i)+"</p>\n\n      <div class='modal-btn-wrapper'>\n        <button\n          class='modal-btn__watched'\n          type='button'\n          data-id='"+d(typeof(i=null!=(i=u(t,"id")||(null!=n?u(n,"id"):n))?i:s)===r?i.call(c,{name:"id",hash:{},data:a,loc:{start:{line:48,column:19},end:{line:48,column:25}}}):i)+"'\n          id='open'\n        >Watched</button>\n\n        <button class='modal-btn__close' type=\"button\"></button>\n\n      </div>\n    </div>\n  </div>\n</div>"},useData:!0});var r=e(a("amrNH")).template({1:function(e,n,t,l,a){var o=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"                            <span class='sub-genre'> "+e.escapeExpression(e.lambda(null!=n?o(n,"name"):n,n))+" </span>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,l,a){var o,i,c=null!=n?n:e.nullContext||{},s=e.hooks.helperMissing,r="function",d=e.escapeExpression,u=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"<div class='modal'>\n    <div class='modal-wrapper'>\n        <div class='img-container'>\n            <img class='modal-img' src='https://image.tmdb.org/t/p/w500/"+d(typeof(i=null!=(i=u(t,"poster_path")||(null!=n?u(n,"poster_path"):n))?i:s)===r?i.call(c,{name:"poster_path",hash:{},data:a,loc:{start:{line:4,column:72},end:{line:4,column:87}}}):i)+"' alt='"+d(typeof(i=null!=(i=u(t,"title")||(null!=n?u(n,"title"):n))?i:s)===r?i.call(c,{name:"title",hash:{},data:a,loc:{start:{line:4,column:94},end:{line:4,column:103}}}):i)+"'\n                data-id='"+d(typeof(i=null!=(i=u(t,"id")||(null!=n?u(n,"id"):n))?i:s)===r?i.call(c,{name:"id",hash:{},data:a,loc:{start:{line:5,column:25},end:{line:5,column:31}}}):i)+"' />\n        </div>\n        <div class='modal-info'>\n            <h2 class='modal-title'>"+d(typeof(i=null!=(i=u(t,"title")||(null!=n?u(n,"title"):n))?i:s)===r?i.call(c,{name:"title",hash:{},data:a,loc:{start:{line:8,column:36},end:{line:8,column:45}}}):i)+'</h2>\n\n            <table class="modal-table">\n                <tbody>\n                    <tr>\n                        <th class="modal-table__descr">Vote/Votes</th>\n                        <td class="modal-table__value"><span class="modal-table__value-avr">'+d(typeof(i=null!=(i=u(t,"vote_average")||(null!=n?u(n,"vote_average"):n))?i:s)===r?i.call(c,{name:"vote_average",hash:{},data:a,loc:{start:{line:14,column:92},end:{line:14,column:108}}}):i)+'</span> /\n                            <span class="modal-table__vote-count">'+d(typeof(i=null!=(i=u(t,"vote_count")||(null!=n?u(n,"vote_count"):n))?i:s)===r?i.call(c,{name:"vote_count",hash:{},data:a,loc:{start:{line:15,column:66},end:{line:15,column:80}}}):i)+'</span></td>\n                    </tr>\n                    <tr>\n                        <th class="modal-table__descr">Popularity</th>\n                        <td class="modal-table__value">'+d(typeof(i=null!=(i=u(t,"popularity")||(null!=n?u(n,"popularity"):n))?i:s)===r?i.call(c,{name:"popularity",hash:{},data:a,loc:{start:{line:19,column:55},end:{line:19,column:69}}}):i)+'</td>\n                    </tr>\n                    <tr>\n                        <th class="modal-table__descr">Original Title</th>\n                        <td class="modal-table__value">'+d(typeof(i=null!=(i=u(t,"original_title")||(null!=n?u(n,"original_title"):n))?i:s)===r?i.call(c,{name:"original_title",hash:{},data:a,loc:{start:{line:23,column:55},end:{line:23,column:73}}}):i)+'</td>\n                    </tr>\n                    <tr>\n                        <th class="modal-table__descr">Genre</th>\n                        <td class="modal-table__value">\n'+(null!=(o=u(t,"each").call(c,null!=n?u(n,"genres"):n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:28,column:28},end:{line:30,column:37}}}))?o:"")+"                        </td>\n                    </tr>\n                </tbody>\n            </table>\n            <p class='modal-review'>"+d(typeof(i=null!=(i=u(t,"overview")||(null!=n?u(n,"overview"):n))?i:s)===r?i.call(c,{name:"overview",hash:{},data:a,loc:{start:{line:35,column:36},end:{line:35,column:48}}}):i)+"</p>\n\n            <div class='modal-btn-wrapper'>\n                <button class='modal-btn__queue' type='button' data-id='"+d(typeof(i=null!=(i=u(t,"id")||(null!=n?u(n,"id"):n))?i:s)===r?i.call(c,{name:"id",hash:{},data:a,loc:{start:{line:38,column:72},end:{line:38,column:78}}}):i)+"' id='open'>Watched</button>\n                \n            <button class='modal-btn__close' type=\"button\"></button>\n            </div>\n        </div>\n    </div>\n</div>"},useData:!0});var d=e(a("amrNH")).template({compiler:[8,">= 4.3.0"],main:function(e,n,t,l,a){return"<div class='library-container'>\n    <p class='library-no-movies'>There are no movies in your librarry </p>\n</div>"},useData:!0});a("c1QDM"),a("3yZwQ");var u=a("7Y9D8");const m=new(0,o.ApiTheMovie),p=document.querySelector(".watched"),h=document.querySelector(".queue");p.addEventListener("click",_),h.addEventListener("click",w);const v=document.querySelector(".gallery"),f=document.querySelector(".gallery-Queue");function y(){const e=JSON.parse(localStorage.getItem("watched-key"));if(e)return e}function _(){const e=y().map((e=>i(e))).join("");v.innerHTML=e,f.innerHTML="",e||(v.innerHTML=d())}function b(e){let n=y();const t=s(e),l=c.create(t);l.show(),document.body.classList.add("stop-fon");const a=document.querySelector(".modal-btn__watched");a.textContent="remove from watched",a.addEventListener("click",(e=>{const t=e.target.dataset.id;if(n.find((e=>e.id===Number(t)))){let e=y();e=e.filter((e=>e.id!==Number(t))),localStorage.setItem("watched-key",JSON.stringify(e)),l.close(),u.Notify.warning("Фильм Удалён из библиотеки"),_()}})),window.addEventListener("keydown",(function(e){"Escape"===e.code&&(l.close(),document.body.classList.remove("stop-fon"))}));document.querySelector(".basicLightbox").addEventListener("click",(function(){document.body.classList.remove("stop-fon")}));document.querySelector(".modal-btn__close").addEventListener("click",(function(){l.close(),document.body.classList.remove("stop-fon")}))}function g(){const e=JSON.parse(localStorage.getItem("queue-key"));if(console.log(e),e)return e}function w(){const e=g().map((e=>i(e))).join("");f.innerHTML=e,v.innerHTML="",e||(v.innerHTML=d())}function k(e){let n=g();const t=r(e),l=c.create(t);l.show(),document.body.classList.add("stop-fon");const a=document.querySelector(".modal-btn__queue");a.textContent="remove from queue",a.addEventListener("click",(e=>{const t=e.target.dataset.id;if(n.find((e=>e.id===Number(t)))){let e=g();e=e.filter((e=>e.id!==Number(t))),localStorage.setItem("queue-key",JSON.stringify(e)),l.close(),u.Notify.warning("Фильм Удалён из библиотеки"),w()}})),window.addEventListener("keydown",(function(e){"Escape"===e.code&&(l.close(),document.body.classList.remove("stop-fon"))}));document.querySelector(".basicLightbox").addEventListener("click",(function(){document.body.classList.remove("stop-fon")}));document.querySelector(".modal-btn__close").addEventListener("click",(function(){l.close(),document.body.classList.remove("stop-fon")}))}f.addEventListener("click",(async function(e){if(e.target===e.currentTarget)return;const n=e.target.closest(".movie-card__item").dataset.id;if(m.setMovieId(n),"close"===e.target.id){let e=g();e=e.filter((e=>e.id!==Number(n))),localStorage.setItem("queue-key",JSON.stringify(e)),u.Notify.warning("Фильм Удалён из библиотеки"),w()}else await m.fetchById(this.currentId).then(k)})),v.addEventListener("click",(async function(e){if(e.target===e.currentTarget)return;const n=e.target.closest(".movie-card__item").dataset.id;if(m.setMovieId(n),"close"===e.target.id){let e=y();e=e.filter((e=>e.id!==Number(n))),localStorage.setItem("watched-key",JSON.stringify(e)),u.Notify.warning("Фильм Удалён из библиотеки"),_()}else await m.fetchById(this.currentId).then(b)})),_(),a("e0Eue"),a("cSlVY"),a("1OOAY"),a("8H5RI"),a("ksLB7"),a("lwn1R");
//# sourceMappingURL=library.5acdce8c.js.map
