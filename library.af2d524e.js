function l(l){return l&&l.__esModule?l.default:l}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},t={},a=n.parcelRequired7c6;null==a&&((a=function(l){if(l in e)return e[l].exports;if(l in t){var n=t[l];delete t[l];var a={id:l,exports:{}};return e[l]=a,n.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+l+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(l,n){t[l]=n},n.parcelRequired7c6=a),a("fo3FY"),a("h4WSp"),a("lXuvW");var o=l(a("amrNH")).template({1:function(l,n,e,t,a){var o,i=null!=n?n:l.nullContext||{},c=l.hooks.helperMissing,s="function",r=l.escapeExpression,d=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return"        <img\n          src='https://image.tmdb.org/t/p/w500/"+r(typeof(o=null!=(o=d(e,"poster_path")||(null!=n?d(n,"poster_path"):n))?o:c)===s?o.call(i,{name:"poster_path",hash:{},data:a,loc:{start:{line:6,column:47},end:{line:6,column:62}}}):o)+"'\n          alt='"+r(typeof(o=null!=(o=d(e,"title")||(null!=n?d(n,"title"):n))?o:c)===s?o.call(i,{name:"title",hash:{},data:a,loc:{start:{line:7,column:15},end:{line:7,column:24}}}):o)+"'\n          class='movie-card__poster lazyload'\n          loading='lazy'\n        />\n"},3:function(l,n,e,t,a){var o,i=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return"        <img\n          src='https://yt3.ggpht.com/AAKF_677TIvjFz_9xFF0R6PgiVd0kRpEtY6APSxSDRP65nXg8hkn9NFsz2bRd9_Z37DJ9D_b=s900-c-k-c0x00ffffff-no-rj'\n          alt='"+l.escapeExpression("function"==typeof(o=null!=(o=i(e,"title")||(null!=n?i(n,"title"):n))?o:l.hooks.helperMissing)?o.call(null!=n?n:l.nullContext||{},{name:"title",hash:{},data:a,loc:{start:{line:14,column:15},end:{line:14,column:24}}}):o)+"'\n          class='movie-card__poster'\n          loading='lazy'\n        />\n"},compiler:[8,">= 4.3.0"],main:function(l,n,e,t,a){var o,i,c=null!=n?n:l.nullContext||{},s=l.hooks.helperMissing,r="function",d=l.escapeExpression,u=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return"<li class='movie-card__item' data-id='"+d(typeof(i=null!=(i=u(e,"id")||(null!=n?u(n,"id"):n))?i:s)===r?i.call(c,{name:"id",hash:{},data:a,loc:{start:{line:1,column:38},end:{line:1,column:44}}}):i)+"' id='open'>\n  <div class='movie-card'>\n    <div class='poster-wrapper'>\n"+(null!=(o=u(e,"if").call(c,null!=n?u(n,"poster_path"):n,{name:"if",hash:{},fn:l.program(1,a,0),inverse:l.program(3,a,0),data:a,loc:{start:{line:4,column:6},end:{line:18,column:13}}}))?o:"")+"    </div>\n    <div class='card-info'>\n      <h2 class='movie-info-title'> "+d(typeof(i=null!=(i=u(e,"title")||(null!=n?u(n,"title"):n))?i:s)===r?i.call(c,{name:"title",hash:{},data:a,loc:{start:{line:21,column:36},end:{line:21,column:45}}}):i)+"</h2>\n      <div class='info-wrapper'>\n        <div class='movie-icon-decor'>\n        </div>\n        <p class='info-item-year'>"+d(typeof(i=null!=(i=u(e,"release_date")||(null!=n?u(n,"release_date"):n))?i:s)===r?i.call(c,{name:"release_date",hash:{},data:a,loc:{start:{line:25,column:34},end:{line:25,column:50}}}):i)+"</p>\n        <p class='info-item-rating'><span class='rating-icon'>&#9733;</span>\n          "+d(typeof(i=null!=(i=u(e,"vote_average")||(null!=n?u(n,"vote_average"):n))?i:s)===r?i.call(c,{name:"vote_average",hash:{},data:a,loc:{start:{line:27,column:10},end:{line:27,column:26}}}):i)+"</p>\n      </div>\n    </div>\n  </div>\n  <div class='watched-delete-wrapper'>\n    <button class='watched-delete' type='button' id='close'></button>\n  </div>\n</li>"},useData:!0});var i=l(a("amrNH")).template({1:function(l,n,e,t,a){var o,i=null!=n?n:l.nullContext||{},c=l.hooks.helperMissing,s="function",r=l.escapeExpression,d=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return"        <img\n          src='https://image.tmdb.org/t/p/w500/"+r(typeof(o=null!=(o=d(e,"poster_path")||(null!=n?d(n,"poster_path"):n))?o:c)===s?o.call(i,{name:"poster_path",hash:{},data:a,loc:{start:{line:6,column:47},end:{line:6,column:62}}}):o)+"'\n          alt='"+r(typeof(o=null!=(o=d(e,"title")||(null!=n?d(n,"title"):n))?o:c)===s?o.call(i,{name:"title",hash:{},data:a,loc:{start:{line:7,column:15},end:{line:7,column:24}}}):o)+"'\n          class='movie-card__poster lazyload'\n          loading='lazy'\n        />\n"},3:function(l,n,e,t,a){var o,i=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return"        <img\n          src='https://yt3.ggpht.com/AAKF_677TIvjFz_9xFF0R6PgiVd0kRpEtY6APSxSDRP65nXg8hkn9NFsz2bRd9_Z37DJ9D_b=s900-c-k-c0x00ffffff-no-rj'\n          alt='"+l.escapeExpression("function"==typeof(o=null!=(o=i(e,"title")||(null!=n?i(n,"title"):n))?o:l.hooks.helperMissing)?o.call(null!=n?n:l.nullContext||{},{name:"title",hash:{},data:a,loc:{start:{line:14,column:15},end:{line:14,column:24}}}):o)+"'\n          class='movie-card__poster'\n          loading='lazy'\n        />\n"},compiler:[8,">= 4.3.0"],main:function(l,n,e,t,a){var o,i,c=null!=n?n:l.nullContext||{},s=l.hooks.helperMissing,r="function",d=l.escapeExpression,u=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return"<li class='movie-card__item' data-id='"+d(typeof(i=null!=(i=u(e,"id")||(null!=n?u(n,"id"):n))?i:s)===r?i.call(c,{name:"id",hash:{},data:a,loc:{start:{line:1,column:38},end:{line:1,column:44}}}):i)+"' id='open'>\n  <div class='movie-card'>\n    <div class='poster-wrapper'>\n"+(null!=(o=u(e,"if").call(c,null!=n?u(n,"poster_path"):n,{name:"if",hash:{},fn:l.program(1,a,0),inverse:l.program(3,a,0),data:a,loc:{start:{line:4,column:6},end:{line:18,column:13}}}))?o:"")+"    </div>\n    <div class='card-info'>\n      <h2 class='movie-info-title'> "+d(typeof(i=null!=(i=u(e,"title")||(null!=n?u(n,"title"):n))?i:s)===r?i.call(c,{name:"title",hash:{},data:a,loc:{start:{line:21,column:36},end:{line:21,column:45}}}):i)+"</h2>\n      <div class='info-wrapper'>\n        <div class='movie-icon-decor'>\n        </div>\n        <p class='info-item-year'>"+d(typeof(i=null!=(i=u(e,"release_date")||(null!=n?u(n,"release_date"):n))?i:s)===r?i.call(c,{name:"release_date",hash:{},data:a,loc:{start:{line:25,column:34},end:{line:25,column:50}}}):i)+"</p>\n        <p class='info-item-rating'><span class='rating-icon'>&#9733;</span>\n          "+d(typeof(i=null!=(i=u(e,"vote_average")||(null!=n?u(n,"vote_average"):n))?i:s)===r?i.call(c,{name:"vote_average",hash:{},data:a,loc:{start:{line:27,column:10},end:{line:27,column:26}}}):i)+"</p>\n      </div>\n    </div>\n  </div>\n  <div class='watched-delete-wrapper'>\n    <button class='watched-delete' type='button' id='close'></button>\n  </div>\n</li>"},useData:!0});a("c1QDM"),a("3yZwQ");var c=a("iG2rd"),s=a("e0Eue"),r=a("9B8F0"),d=a("7Y9D8");var u=l(a("amrNH")).template({1:function(l,n,e,t,a){var o=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return"                            <span class='sub-genre'> "+l.escapeExpression(l.lambda(null!=n?o(n,"name"):n,n))+" </span>\n"},compiler:[8,">= 4.3.0"],main:function(l,n,e,t,a){var o,i,c=null!=n?n:l.nullContext||{},s=l.hooks.helperMissing,r="function",d=l.escapeExpression,u=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return"<div class='modal'>\n    <div class='modal-wrapper'>\n        <div class='img-container'>\n            <img class='modal-img' src='https://image.tmdb.org/t/p/w500/"+d(typeof(i=null!=(i=u(e,"poster_path")||(null!=n?u(n,"poster_path"):n))?i:s)===r?i.call(c,{name:"poster_path",hash:{},data:a,loc:{start:{line:4,column:72},end:{line:4,column:87}}}):i)+"' alt='"+d(typeof(i=null!=(i=u(e,"title")||(null!=n?u(n,"title"):n))?i:s)===r?i.call(c,{name:"title",hash:{},data:a,loc:{start:{line:4,column:94},end:{line:4,column:103}}}):i)+"'\n                data-id='"+d(typeof(i=null!=(i=u(e,"id")||(null!=n?u(n,"id"):n))?i:s)===r?i.call(c,{name:"id",hash:{},data:a,loc:{start:{line:5,column:25},end:{line:5,column:31}}}):i)+"' />\n        </div>\n        <div class='modal-info'>\n            <h2 class='modal-title'>"+d(typeof(i=null!=(i=u(e,"title")||(null!=n?u(n,"title"):n))?i:s)===r?i.call(c,{name:"title",hash:{},data:a,loc:{start:{line:8,column:36},end:{line:8,column:45}}}):i)+'</h2>\n\n            <table class="modal-table">\n                <tbody>\n                    <tr>\n                        <th class="modal-table__descr">Vote/Votes</th>\n                        <td class="modal-table__value"><span class="modal-table__value-avr">'+d(typeof(i=null!=(i=u(e,"vote_average")||(null!=n?u(n,"vote_average"):n))?i:s)===r?i.call(c,{name:"vote_average",hash:{},data:a,loc:{start:{line:14,column:92},end:{line:14,column:108}}}):i)+'</span> / <span\n                            class="modal-table__vote-count">'+d(typeof(i=null!=(i=u(e,"vote_count")||(null!=n?u(n,"vote_count"):n))?i:s)===r?i.call(c,{name:"vote_count",hash:{},data:a,loc:{start:{line:15,column:60},end:{line:15,column:74}}}):i)+'</span></td>\n                    </tr>\n                    <tr>\n                        <th class="modal-table__descr">Popularity</th>\n                        <td class="modal-table__value">'+d(typeof(i=null!=(i=u(e,"popularity")||(null!=n?u(n,"popularity"):n))?i:s)===r?i.call(c,{name:"popularity",hash:{},data:a,loc:{start:{line:19,column:55},end:{line:19,column:69}}}):i)+'</td>\n                    </tr>\n                    <tr>\n                        <th class="modal-table__descr">Original Title</th>\n                        <td class="modal-table__value">'+d(typeof(i=null!=(i=u(e,"original_title")||(null!=n?u(n,"original_title"):n))?i:s)===r?i.call(c,{name:"original_title",hash:{},data:a,loc:{start:{line:23,column:55},end:{line:23,column:73}}}):i)+'</td>\n                    </tr>\n                    <tr>\n                        <th class="modal-table__descr">Genre</th>\n                        <td class="modal-table__value">\n'+(null!=(o=u(e,"each").call(c,null!=n?u(n,"genres"):n,{name:"each",hash:{},fn:l.program(1,a,0),inverse:l.noop,data:a,loc:{start:{line:28,column:28},end:{line:30,column:37}}}))?o:"")+"                        </td>\n                    </tr>\n                </tbody>\n            </table>\n            <p class='modal-review'>"+d(typeof(i=null!=(i=u(e,"overview")||(null!=n?u(n,"overview"):n))?i:s)===r?i.call(c,{name:"overview",hash:{},data:a,loc:{start:{line:35,column:36},end:{line:35,column:48}}}):i)+"</p>\n\n            <div class='modal-btn-wrapper'>\n                <button class='modal-btn__watched' type='button' data-id='"+d(typeof(i=null!=(i=u(e,"id")||(null!=n?u(n,"id"):n))?i:s)===r?i.call(c,{name:"id",hash:{},data:a,loc:{start:{line:38,column:74},end:{line:38,column:80}}}):i)+"' id='open'>Watched</button>\n\n            </div>\n        </div>\n    </div>\n</div>"},useData:!0}),p=a("b2cEL");const m=new(0,s.ApiTheMovie);function h(l){const n=u(l),e=r.create(n);e.show(),document.body.classList.add("stop-fon");const t=document.querySelector(".modal-btn__watched");t.textContent="remove from watched",t.addEventListener("click",(function(l){let n=(0,p.getWatchedList)();const t=l.target.dataset.id;if(n.find((l=>l.id===Number(t)))){let l=(0,p.getWatchedList)();l=l.filter((l=>l.id!==Number(t))),localStorage.setItem("watched-key",JSON.stringify(l)),d.Notify.warning("Фильм Удалён из библиотеки"),e.close()}f(),window.addEventListener("keydown",(function(l){"Escape"===l.code&&(e.close(),document.body.classList.remove("stop-fon"))}));document.querySelector(".basicLightbox").addEventListener("click",(function(){document.body.classList.remove("stop-fon")}))}))}const v=document.querySelector(".gallery");document.querySelector(".watched").addEventListener("click",f);function f(){const l=function(){const l=JSON.parse(localStorage.getItem("watched-key"));if(l)return l}().map((l=>o(l))).join("");v.innerHTML=l}document.querySelector(".gallery").addEventListener("click",(async function(l){if(l.target===l.currentTarget)return;const n=l.target.closest(".movie-card__item").dataset.id;m.setMovieId(n),m.fetchById(n).then(h)}));function _(l){l.preventDefault();let n=function(){const l=JSON.parse(localStorage.getItem(c.QUEUE_KEY));if(console.log(l),l)return l}();console.log(n);const e=n.map((l=>i(l))).join("");v.innerHTML=e}document.querySelector(".queue").addEventListener("click",_),a("e0Eue"),a("cSlVY"),a("1OOAY"),a("8H5RI"),a("ksLB7"),a("lwn1R");s=a("e0Eue"),r=a("9B8F0"),d=a("7Y9D8");l(a("amrNH")).template({1:function(l,n,e,t,a){var o=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return"                            <span class='sub-genre'> "+l.escapeExpression(l.lambda(null!=n?o(n,"name"):n,n))+" </span>\n"},compiler:[8,">= 4.3.0"],main:function(l,n,e,t,a){var o,i,c=null!=n?n:l.nullContext||{},s=l.hooks.helperMissing,r="function",d=l.escapeExpression,u=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return"<div class='modal'>\n    <div class='modal-wrapper'>\n        <div class='img-container'>\n            <img class='modal-img' src='https://image.tmdb.org/t/p/w500/"+d(typeof(i=null!=(i=u(e,"poster_path")||(null!=n?u(n,"poster_path"):n))?i:s)===r?i.call(c,{name:"poster_path",hash:{},data:a,loc:{start:{line:4,column:72},end:{line:4,column:87}}}):i)+"' alt='"+d(typeof(i=null!=(i=u(e,"title")||(null!=n?u(n,"title"):n))?i:s)===r?i.call(c,{name:"title",hash:{},data:a,loc:{start:{line:4,column:94},end:{line:4,column:103}}}):i)+"'\n                data-id='"+d(typeof(i=null!=(i=u(e,"id")||(null!=n?u(n,"id"):n))?i:s)===r?i.call(c,{name:"id",hash:{},data:a,loc:{start:{line:5,column:25},end:{line:5,column:31}}}):i)+"' />\n        </div>\n        <div class='modal-info'>\n            <h2 class='modal-title'>"+d(typeof(i=null!=(i=u(e,"title")||(null!=n?u(n,"title"):n))?i:s)===r?i.call(c,{name:"title",hash:{},data:a,loc:{start:{line:8,column:36},end:{line:8,column:45}}}):i)+'</h2>\n\n            <table class="modal-table">\n                <tbody>\n                    <tr>\n                        <th class="modal-table__descr">Vote/Votes</th>\n                        <td class="modal-table__value"><span class="modal-table__value-avr">'+d(typeof(i=null!=(i=u(e,"vote_average")||(null!=n?u(n,"vote_average"):n))?i:s)===r?i.call(c,{name:"vote_average",hash:{},data:a,loc:{start:{line:14,column:92},end:{line:14,column:108}}}):i)+'</span> /\n                            <span class="modal-table__vote-count">'+d(typeof(i=null!=(i=u(e,"vote_count")||(null!=n?u(n,"vote_count"):n))?i:s)===r?i.call(c,{name:"vote_count",hash:{},data:a,loc:{start:{line:15,column:66},end:{line:15,column:80}}}):i)+'</span></td>\n                    </tr>\n                    <tr>\n                        <th class="modal-table__descr">Popularity</th>\n                        <td class="modal-table__value">'+d(typeof(i=null!=(i=u(e,"popularity")||(null!=n?u(n,"popularity"):n))?i:s)===r?i.call(c,{name:"popularity",hash:{},data:a,loc:{start:{line:19,column:55},end:{line:19,column:69}}}):i)+'</td>\n                    </tr>\n                    <tr>\n                        <th class="modal-table__descr">Original Title</th>\n                        <td class="modal-table__value">'+d(typeof(i=null!=(i=u(e,"original_title")||(null!=n?u(n,"original_title"):n))?i:s)===r?i.call(c,{name:"original_title",hash:{},data:a,loc:{start:{line:23,column:55},end:{line:23,column:73}}}):i)+'</td>\n                    </tr>\n                    <tr>\n                        <th class="modal-table__descr">Genre</th>\n                        <td class="modal-table__value">\n'+(null!=(o=u(e,"each").call(c,null!=n?u(n,"genres"):n,{name:"each",hash:{},fn:l.program(1,a,0),inverse:l.noop,data:a,loc:{start:{line:28,column:28},end:{line:30,column:37}}}))?o:"")+"                        </td>\n                    </tr>\n                </tbody>\n            </table>\n            <p class='modal-review'>"+d(typeof(i=null!=(i=u(e,"overview")||(null!=n?u(n,"overview"):n))?i:s)===r?i.call(c,{name:"overview",hash:{},data:a,loc:{start:{line:35,column:36},end:{line:35,column:48}}}):i)+"</p>\n\n            <div class='modal-btn-wrapper'>\n                <button class='modal-btn__queue' type='button' data-id='"+d(typeof(i=null!=(i=u(e,"id")||(null!=n?u(n,"id"):n))?i:s)===r?i.call(c,{name:"id",hash:{},data:a,loc:{start:{line:38,column:72},end:{line:38,column:78}}}):i)+"' id='open'>Watched</button>\n\n            </div>\n        </div>\n    </div>\n</div>"},useData:!0}),c=a("iG2rd");new(0,s.ApiTheMovie);
//# sourceMappingURL=library.af2d524e.js.map
