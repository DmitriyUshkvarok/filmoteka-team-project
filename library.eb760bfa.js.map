{"mappings":"AAAA,IAAMA,sBAAwB,CAE5BC,KAAM,MAUR,SAASC,gBACHF,sBAAsBG,iBAAmBC,QAAQC,IAAI,cAEMC,uBAAtC,SAAWN,sBAAsBG,gBAG1D,IAAII,EAAOC,mBAEyD,OAAhEC,SAASC,cAAc,sBAAwBH,EAAO,OACxDE,SACGC,cAAc,sBAAwBH,EAAO,MAC7CI,UAAUC,IAAI,wBAGfL,GAAQP,sBAAsBC,MAGnBK,uBAAU,KAAMN,sBAAsBa,QAIf,IAAlCC,OAAOC,UAAUC,iBAAiB,CACpCC,aAAcjB,sBAAsBC,OAIdiB,sBAAF,QAAS,sBAAsB,SAAUC,GAC7Db,uBACE,IACEN,sBAAsBC,KACtB,IACAkB,EAAEC,aAAa,oBACjBpB,sBAAsBa,QAGHQ,OAAdC,SAASC,Q,IAIpB,SAASf,mBAMP,OAH8BgB,MAA5BpB,QAAQC,IAAI,cAAyD,QAA5BD,QAAQC,IAAI,aACjDD,QAAQC,IAAI,aACZL,sBAAsBC,MAChBwB,MAAK,oBAAqB,E,CAGxC,SAASnB,uBAAuBoB,EAAKb,GAEqBT,QAAhDuB,IAAI,YAAaD,GACzBtB,QAAQuB,IAAI,YAAaD,EAAK,CAC5Bb,OAAQ,IAAMJ,SAASI,SAGX,aAAVA,IAEJT,QAAQuB,IAAI,YAAaD,EAAK,CAC5Bb,OAAQA,IAGVT,QAAQuB,IAAI,YAAaD,EAAK,CAC5Bb,OAAQ,IAAMA,I,CAIlB,SAASK,sBAAsBU,EAAOC,EAAUC,GAC9CrB,SAASsB,iBAAiBH,GAAO,SAAUT,GACzC,IAAIa,EAAKb,EAAEc,OAAOC,QAAQL,GACtBG,GAAIF,EAAQE,E","sources":["src/main.js/google-translate.js"],"sourcesContent":["const googleTranslateConfig = {\n  /* Original language */\n  lang: 'en',\n  /* The language we translate into on the first visit*/\n  /* Язык, на который переводим при первом посещении */\n  // langFirstVisit: 'en',\n  /* Если скрипт не работает на поддомене, \n    раскомментируйте и\n    укажите основной домен в свойстве domain */\n  // domain: 'Get-Web.Site',\n};\n\nfunction TranslateInit() {\n  if (googleTranslateConfig.langFirstVisit && !Cookies.get('googtrans')) {\n    // Если установлен язык перевода для первого посещения и куки не назначены\n    TranslateCookieHandler('/auto/' + googleTranslateConfig.langFirstVisit);\n  }\n\n  let code = TranslateGetCode();\n  // Находим флаг с выбранным языком для перевода и добавляем к нему активный класс\n  if (document.querySelector('[data-google-lang=\"' + code + '\"]') !== null) {\n    document\n      .querySelector('[data-google-lang=\"' + code + '\"]')\n      .classList.add('language__img_active');\n  }\n\n  if (code == googleTranslateConfig.lang) {\n    // Если язык по умолчанию, совпадает с языком на который переводим\n    // То очищаем куки\n    TranslateCookieHandler(null, googleTranslateConfig.domain);\n  }\n\n  // Инициализируем виджет с языком по умолчанию\n  new google.translate.TranslateElement({\n    pageLanguage: googleTranslateConfig.lang,\n  });\n\n  // Вешаем событие  клик на флаги\n  TranslateEventHandler('click', '[data-google-lang]', function (e) {\n    TranslateCookieHandler(\n      '/' +\n        googleTranslateConfig.lang +\n        '/' +\n        e.getAttribute('data-google-lang'),\n      googleTranslateConfig.domain\n    );\n    // Перезагружаем страницу\n    window.location.reload();\n  });\n}\n\nfunction TranslateGetCode() {\n  // Если куки нет, то передаем дефолтный язык\n  let lang =\n    Cookies.get('googtrans') != undefined && Cookies.get('googtrans') != 'null'\n      ? Cookies.get('googtrans')\n      : googleTranslateConfig.lang;\n  return lang.match(/(?!^\\/)[^\\/]*$/gm)[0];\n}\n\nfunction TranslateCookieHandler(val, domain) {\n  // Записываем куки /язык_который_переводим/язык_на_который_переводим\n  Cookies.set('googtrans', val);\n  Cookies.set('googtrans', val, {\n    domain: '.' + document.domain,\n  });\n\n  if (domain == 'undefined') return;\n  // записываем куки для домена, если он назначен в конфиге\n  Cookies.set('googtrans', val, {\n    domain: domain,\n  });\n\n  Cookies.set('googtrans', val, {\n    domain: '.' + domain,\n  });\n}\n\nfunction TranslateEventHandler(event, selector, handler) {\n  document.addEventListener(event, function (e) {\n    let el = e.target.closest(selector);\n    if (el) handler(el);\n  });\n}\n"],"names":["googleTranslateConfig","lang","TranslateInit","langFirstVisit","Cookies","get","TranslateCookieHandler","code","TranslateGetCode","document","querySelector","classList","add","domain","google","translate","TranslateElement","pageLanguage","TranslateEventHandler","e","getAttribute","window","location","reload","undefined","match","val","set","event","selector","handler","addEventListener","el","target","closest"],"version":3,"file":"library.eb760bfa.js.map"}